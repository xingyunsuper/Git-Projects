# RECEIPT OF SUPPLEMENTAL SECURITY INCOME (SSI), CASH PUBLIC ASSISTANCE INCOME, OR FOOD STAMPS/SNAP IN THE PAST 12 MONTHS BY HOUSEHOLD TYPE FOR CHILDREN UNDER 18 YEARS IN HOUSEHOLDS
ssivars <- c("total" = "B09010_001", 
             "total_SSI" ="B09010_002",
             "SSI_FamilyHH" = "B09010_003",
             "SSI_MarriedHH" = "B09010_004",
             "SSI_M_noS_HH" = "B09010_005",
             "SSI_F_noS_HH" = "B09010_006",
             "SSI_NonFamily" = "B09010_007",
             "total_noSSI" = "B09010_008",
             "noSSI_FamilyHH" = "B09010_009",
             "noSSI_MarriedHH" = "B09010_010",
             "noSSI_M_noS_HH" = "B09010_011",
             "noSSI_F_noS_HH" = "B09010_012",
             "noSSI_NonFamily" = "B09010_013"
             
)
SSI_related <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = ssivars, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(SSI_related, "C:\\Users\\yun\\Desktop\\SSI.xlsx")

#MEDIAN FAMILY INCOME FOR FAMILIES WITH GRANDPARENT HOUSEHOLDERS AND/OR SPOUSES LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND PRESENCE OF PARENT OF GRANDCHILDREN
med_income_grand <- c("total" = "B10010_001", 
                      "grandHH" ="B10010_002",
                      "grandHH_noParent" = "B10010_003"
)
medincome_gran <- get_acs(geography ="tract", 
                          year = 2020, 
                          state = 18,
                          county = 141,
                          variables = med_income_grand, 
                          survey = "acs5",
                          output = "wide", 
                          geometry = F
)
library("writexl")
write_xlsx(medincome_gran, "C:\\Desktop\\med_income_grand.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF GRANDPARENTS LIVING WITH OWN GRANDCHILDREN UNDER 18 YEARS BY RESPONSIBILITY FOR OWN GRANDCHILDREN AND AGE OF GRANDPARENT
grandva <- c("total_below_pov" = "B10059_002", 
             "below_pov_grandHH" ="B10059_003",
             "below_pov_grandHH_30_59" = "B10059_004",
             "below_pov_grandHH_60_over" = "B10059_005",
             "below_pov_grandHH_Gnot_resp" = "B10059_006",
             "total_above_pov" = "B10059_007",
             "above_pov_grandHH" = "B10059_008",
             "above_povgrandHH_30_59" = "B10059_009",
             "above_pov_grandHH_60_over" = "B10059_010",
             "above_pov_grandHH_Gnot_resp" = "B10059_011"
)
pov_grandHH <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = grandva, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_grandHH, "C:\\Desktop\\pov_grandHH.xlsx")

#woman related WOMEN 15 TO 50 YEARS WHO HAD A BIRTH IN THE PAST 12 MONTHS BY MARITAL STATUS AND RECEIPT OF PUBLIC ASSISTANCE INCOME IN THE PAST 12 MONTHS
womenva <- c("total" = "B13015_001", 
             "women_birth" ="B13015_002",
             "women_birth_married" = "B13015_003",
             "women_birth_married_PAI" = "B13015_004",
             "women_birth_married_noPAI" = "B13015_005",
             "women_birth_unmarried" = "B13015_006",
             "women_birth_unmarried_PAI" = "B13015_007",
             "women_birth_unmarried_noPAI" = "B13015_008",
             "women_nobirth" = "B13015_009",
             "women_nobirth_married" = "B13015_010",
             "women_nobirth_married_PAI" = "B13015_011",
             "women_nobirth_married_noPAI" = "B13015_012",
             "women_nobirth_unmarried" = "B13015_013",
             "women_nobirth_unmarried_PAI" = "B13015_014",
             "women_nobirth_unmarried_noPAI" = "B13015_015"
)
women_HHsta <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = womenva, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(women_HHsta, "C:\\Desktop\\women_1.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SCHOOL ENROLLMENT BY LEVEL OF SCHOOL FOR THE POPULATION 3 YEARS AND OVER
schoolv <- c("total_below_pov" = "B14006_002", 
             "below_pov_school" ="B14006_003",
             "below_pov_nur/pre" = "B14006_004",
             "below_pov_kindergarten" = "B14006_005",
             "below_pov_G1_4" = "B14006_006",
             "below_pov_G5_8" = "B14006_007",
             "below_pov_G9_12" = "B14006_008",
             "below_pov_college" = "B14006_009",
             "below_pov_grad" = "B14006_010",
             "below_pov_noschool" = "B14006_011",
             "total_above_pov" = "B14006_012",
             "above_pov_school" ="B14006_013",
             "above_pov_nur/pre" = "B14006_014",
             "above_pov_kindergarten" = "B14006_015",
             "above_pov_G1_4" = "B14006_016",
             "above_pov_G5_8" = "B14006_017",
             "above_pov_G9_12" = "B14006_018",
             "above_pov_college" = "B14006_019",
             "above_pov_grad" = "B14006_020",
             "above_pov_noschool" = "B14006_021"
)
pov_school <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = schoolv, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_school, "C:\\Desktop\\pov_school.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY AGE BY LANGUAGE SPOKEN AT HOME FOR THE POPULATION 5 YEARS AND OVER
langvar <- c("total_below_pov" = "B16009_002", 
             "below_pov_5_17" ="B16009_003",
             "below_pov_5_17_ENGonly" = "B16009_004",
             "below_pov_5_17_SPAN" = "B16009_005",
             "below_pov_5_17_INDOEURO" = "B16009_006",
             "below_pov_5_17_ASIAPA" = "B16009_007",
             "below_pov_5_17_other" = "B16009_008",
             "below_pov_18+" ="B16009_009",
             "below_pov_18+_ENGonly" = "B16009_010",
             "below_pov_18+_SPAN" = "B16009_011",
             "below_pov_18+_INDOEURO" = "B16009_012",
             "below_pov_18+_ASIAPA" = "B16009_013",
             "below_pov_18+_other" = "B16009_014",
             "total_above_pov" = "B16009_015", 
             "above_pov_5_17" ="B16009_016",
             "above_pov_5_17_ENGonly" = "B16009_017",
             "above_pov_5_17_SPAN" = "B16009_018",
             "above_pov_5_17_INDOEURO" = "B16009_019",
             "above_pov_5_17_ASIAPA" = "B16009_020",
             "above_pov_5_17_other" = "B16009_021",
             "above_pov_18+" ="B16009_022",
             "above_pov_18+_ENGonly" = "B16009_023",
             "above_pov_18+_SPAN" = "B16009_024",
             "above_pov_18+_INDOEURO" = "B16009_025",
             "above_pov_18+_ASIAPA" = "B16009_026",
             "above_pov_18+_other" = "B16009_027"
)
pov_language <- get_acs(geography ="tract", 
                      year = 2020, 
                      state = 18,
                      county = 141,
                      variables = langvar, 
                      survey = "acs5",
                      output = "wide", 
                      geometry = F
)
library("writexl")
write_xlsx(pov_language, "C:\\Desktop\\pov_language.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE
sexagev <- c("total_below_pov" = "B17001_002", 
             "below_pov_M" ="B17001_003",
             "below_pov_M_<5" = "B17001_004",
             "below_pov_M_5" = "B17001_005",
             "below_pov_M_6-11" = "B17001_006",
             "below_pov_M_12-14" = "B17001_007",
             "below_pov_M_15" = "B17001_008",
             "below_pov_M_16-17" ="B17001_009",
             "below_pov_M_18-24" = "B17001_010",
             "below_pov_M_25-34" = "B17001_011",
             "below_pov_M_35-44" = "B17001_012",
             "below_pov_M_45-54" = "B17001_013",
             "below_pov_M_55-64" = "B17001_014",
             "below_pov_M_65-74" = "B17001_015",
             "below_pov_M_75+" = "B17001_016",
             "below_pov_F" ="B17001_017",
             "below_pov_F_<5" = "B17001_018",
             "below_pov_F_5" = "B17001_019",
             "below_pov_F_6-11" = "B17001_020",
             "below_pov_F_12-14" = "B17001_021",
             "below_pov_F_15" = "B17001_022",
             "below_pov_F_16-17" ="B17001_023",
             "below_pov_F_18-24" = "B17001_024",
             "below_pov_F_25-34" = "B17001_025",
             "below_pov_F_35-44" = "B17001_026",
             "below_pov_F_45-54" = "B17001_027",
             "below_pov_F_55-64" = "B17001_028",
             "below_pov_F_65-74" = "B17001_029",
             "below_pov_F_75+" = "B17001_030",
             "total_above_pov" = "B17001_031", 
             "above_pov_M" ="B17001_032",
             "above_pov_M_<5" = "B17001_033",
             "above_pov_M_5" = "B17001_034",
             "above_pov_M_6-11" = "B17001_035",
             "above_pov_M_12-14" = "B17001_036",
             "above_pov_M_15" = "B17001_037",
             "above_pov_M_16-17" ="B17001_038",
             "above_pov_M_18-24" = "B17001_039",
             "above_pov_M_25-34" = "B17001_040",
             "above_pov_M_35-44" = "B17001_041",
             "above_pov_M_45-54" = "B17001_042",
             "above_pov_M_55-64" = "B17001_043",
             "above_pov_M_65-74" = "B17001_044",
             "above_pov_M_75+" = "B17001_045",
             "above_pov_F" ="B17001_046",
             "above_pov_F_<5" = "B17001_047",
             "above_pov_F_5" = "B17001_048",
             "above_pov_F_6-11" = "B17001_049",
             "above_pov_F_12-14" = "B17001_050",
             "above_pov_F_15" = "B17001_051",
             "above_pov_F_16-17" ="B17001_052",
             "above_pov_F_18-24" = "B17001_053",
             "above_pov_F_25-34" = "B17001_054",
             "above_pov_F_35-44" = "B17001_055",
             "above_pov_F_45-54" = "B17001_056",
             "above_pov_F_55-64" = "B17001_057",
             "above_pov_F_65-74" = "B17001_058",
             "above_pov_F_75+" = "B17001_059"
)
pov_sex_age <- get_acs(geography ="tract", 
                        year = 2020, 
                        state = 18,
                        county = 141,
                        variables = sexagev, 
                        survey = "acs5",
                        output = "wide", 
                        geometry = F
)
library("writexl")
write_xlsx(pov_sex_age, "C:\\Desktop\\pov_sex_age_1.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (WHITE ALONE)
sexageW <- c("total_below_pov_White" = "B17001A_002", 
             "below_pov_M_White" ="B17001A_003",
             "below_pov_M_<5" = "B17001A_004",
             "below_pov_M_5" = "B17001A_005",
             "below_pov_M_6-11" = "B17001A_006",
             "below_pov_M_12-14" = "B17001A_007",
             "below_pov_M_15" = "B17001A_008",
             "below_pov_M_16-17" ="B17001A_009",
             "below_pov_M_18-24" = "B17001A_010",
             "below_pov_M_25-34" = "B17001A_011",
             "below_pov_M_35-44" = "B17001A_012",
             "below_pov_M_45-54" = "B17001A_013",
             "below_pov_M_55-64" = "B17001A_014",
             "below_pov_M_65-74" = "B17001A_015",
             "below_pov_M_75+" = "B17001A_016",
             "below_pov_F_White" ="B17001A_017",
             "below_pov_F_<5" = "B17001A_018",
             "below_pov_F_5" = "B17001A_019",
             "below_pov_F_6-11" = "B17001A_020",
             "below_pov_F_12-14" = "B17001A_021",
             "below_pov_F_15" = "B17001A_022",
             "below_pov_F_16-17" ="B17001A_023",
             "below_pov_F_18-24" = "B17001A_024",
             "below_pov_F_25-34" = "B17001A_025",
             "below_pov_F_35-44" = "B17001A_026",
             "below_pov_F_45-54" = "B17001A_027",
             "below_pov_F_55-64" = "B17001A_028",
             "below_pov_F_65-74" = "B17001A_029",
             "below_pov_F_75+" = "B17001A_030",
             "total_above_pov_White" = "B17001A_031", 
             "above_pov_M_White" ="B17001A_032",
             "above_pov_M_<5" = "B17001A_033",
             "above_pov_M_5" = "B17001A_034",
             "above_pov_M_6-11" = "B17001A_035",
             "above_pov_M_12-14" = "B17001A_036",
             "above_pov_M_15" = "B17001A_037",
             "above_pov_M_16-17" ="B17001A_038",
             "above_pov_M_18-24" = "B17001A_039",
             "above_pov_M_25-34" = "B17001A_040",
             "above_pov_M_35-44" = "B17001A_041",
             "above_pov_M_45-54" = "B17001A_042",
             "above_pov_M_55-64" = "B17001A_043",
             "above_pov_M_65-74" = "B17001A_044",
             "above_pov_M_75+" = "B17001A_045",
             "above_pov_F_White" ="B17001A_046",
             "above_pov_F_<5" = "B17001A_047",
             "above_pov_F_5" = "B17001A_048",
             "above_pov_F_6-11" = "B17001A_049",
             "above_pov_F_12-14" = "B17001A_050",
             "above_pov_F_15" = "B17001A_051",
             "above_pov_F_16-17" ="B17001A_052",
             "above_pov_F_18-24" = "B17001A_053",
             "above_pov_F_25-34" = "B17001A_054",
             "above_pov_F_35-44" = "B17001A_055",
             "above_pov_F_45-54" = "B17001A_056",
             "above_pov_F_55-64" = "B17001A_057",
             "above_pov_F_65-74" = "B17001A_058",
             "above_pov_F_75+" = "B17001A_059"
)
pov_sex_age_W <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = sexageW, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_W, "C:\\Desktop\\pov_sex_age_2(W).xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (BLACK OR AFRICAN AMERICAN ALONE)
sexageB <- c("total_below_pov_Black" = "B17001B_002", 
             "below_pov_M_Black" ="B17001B_003",
             "below_pov_M_<5" = "B17001B_004",
             "below_pov_M_5" = "B17001B_005",
             "below_pov_M_6-11" = "B17001B_006",
             "below_pov_M_12-14" = "B17001B_007",
             "below_pov_M_15" = "B17001B_008",
             "below_pov_M_16-17" ="B17001B_009",
             "below_pov_M_18-24" = "B17001B_010",
             "below_pov_M_25-34" = "B17001B_011",
             "below_pov_M_35-44" = "B17001B_012",
             "below_pov_M_45-54" = "B17001B_013",
             "below_pov_M_55-64" = "B17001B_014",
             "below_pov_M_65-74" = "B17001B_015",
             "below_pov_M_75+" = "B17001B_016",
             "below_pov_F_Black" ="B17001B_017",
             "below_pov_F_<5" = "B17001B_018",
             "below_pov_F_5" = "B17001B_019",
             "below_pov_F_6-11" = "B17001B_020",
             "below_pov_F_12-14" = "B17001B_021",
             "below_pov_F_15" = "B17001B_022",
             "below_pov_F_16-17" ="B17001B_023",
             "below_pov_F_18-24" = "B17001B_024",
             "below_pov_F_25-34" = "B17001B_025",
             "below_pov_F_35-44" = "B17001B_026",
             "below_pov_F_45-54" = "B17001B_027",
             "below_pov_F_55-64" = "B17001B_028",
             "below_pov_F_65-74" = "B17001B_029",
             "below_pov_F_75+" = "B17001B_030",
             "total_above_pov_Black" = "B17001B_031", 
             "above_pov_M_Black" ="B17001B_032",
             "above_pov_M_<5" = "B17001B_033",
             "above_pov_M_5" = "B17001B_034",
             "above_pov_M_6-11" = "B17001B_035",
             "above_pov_M_12-14" = "B17001B_036",
             "above_pov_M_15" = "B17001B_037",
             "above_pov_M_16-17" ="B17001B_038",
             "above_pov_M_18-24" = "B17001B_039",
             "above_pov_M_25-34" = "B17001B_040",
             "above_pov_M_35-44" = "B17001B_041",
             "above_pov_M_45-54" = "B17001B_042",
             "above_pov_M_55-64" = "B17001B_043",
             "above_pov_M_65-74" = "B17001B_044",
             "above_pov_M_75+" = "B17001B_045",
             "above_pov_F_Black" ="B17001B_046",
             "above_pov_F_<5" = "B17001B_047",
             "above_pov_F_5" = "B17001B_048",
             "above_pov_F_6-11" = "B17001B_049",
             "above_pov_F_12-14" = "B17001B_050",
             "above_pov_F_15" = "B17001B_051",
             "above_pov_F_16-17" ="B17001B_052",
             "above_pov_F_18-24" = "B17001B_053",
             "above_pov_F_25-34" = "B17001B_054",
             "above_pov_F_35-44" = "B17001B_055",
             "above_pov_F_45-54" = "B17001B_056",
             "above_pov_F_55-64" = "B17001B_057",
             "above_pov_F_65-74" = "B17001B_058",
             "above_pov_F_75+" = "B17001B_059"
)
pov_sex_age_B <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageB, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_B, "C:\\Desktop\\pov_sex_age_3(B).xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (AMERICAN INDIAN AND ALASKA NATIVE ALONE)
sexageC <- c("total_below_pov_Native" = "B17001C_002", 
             "below_pov_M_Native" ="B17001C_003",
             "below_pov_M_<5" = "B17001C_004",
             "below_pov_M_5" = "B17001C_005",
             "below_pov_M_6-11" = "B17001C_006",
             "below_pov_M_12-14" = "B17001C_007",
             "below_pov_M_15" = "B17001C_008",
             "below_pov_M_16-17" ="B17001C_009",
             "below_pov_M_18-24" = "B17001C_010",
             "below_pov_M_25-34" = "B17001C_011",
             "below_pov_M_35-44" = "B17001C_012",
             "below_pov_M_45-54" = "B17001C_013",
             "below_pov_M_55-64" = "B17001C_014",
             "below_pov_M_65-74" = "B17001C_015",
             "below_pov_M_75+" = "B17001C_016",
             "below_pov_F_Native" ="B17001C_017",
             "below_pov_F_<5" = "B17001C_018",
             "below_pov_F_5" = "B17001C_019",
             "below_pov_F_6-11" = "B17001C_020",
             "below_pov_F_12-14" = "B17001C_021",
             "below_pov_F_15" = "B17001C_022",
             "below_pov_F_16-17" ="B17001C_023",
             "below_pov_F_18-24" = "B17001C_024",
             "below_pov_F_25-34" = "B17001C_025",
             "below_pov_F_35-44" = "B17001C_026",
             "below_pov_F_45-54" = "B17001C_027",
             "below_pov_F_55-64" = "B17001C_028",
             "below_pov_F_65-74" = "B17001C_029",
             "below_pov_F_75+" = "B17001C_030",
             "total_above_pov_Native" = "B17001C_031", 
             "above_pov_M_Native" ="B17001C_032",
             "above_pov_M_<5" = "B17001C_033",
             "above_pov_M_5" = "B17001C_034",
             "above_pov_M_6-11" = "B17001C_035",
             "above_pov_M_12-14" = "B17001C_036",
             "above_pov_M_15" = "B17001C_037",
             "above_pov_M_16-17" ="B17001C_038",
             "above_pov_M_18-24" = "B17001C_039",
             "above_pov_M_25-34" = "B17001C_040",
             "above_pov_M_35-44" = "B17001C_041",
             "above_pov_M_45-54" = "B17001C_042",
             "above_pov_M_55-64" = "B17001C_043",
             "above_pov_M_65-74" = "B17001C_044",
             "above_pov_M_75+" = "B17001C_045",
             "above_pov_F_Native" ="B17001C_046",
             "above_pov_F_<5" = "B17001C_047",
             "above_pov_F_5" = "B17001C_048",
             "above_pov_F_6-11" = "B17001C_049",
             "above_pov_F_12-14" = "B17001C_050",
             "above_pov_F_15" = "B17001C_051",
             "above_pov_F_16-17" ="B17001C_052",
             "above_pov_F_18-24" = "B17001C_053",
             "above_pov_F_25-34" = "B17001C_054",
             "above_pov_F_35-44" = "B17001C_055",
             "above_pov_F_45-54" = "B17001C_056",
             "above_pov_F_55-64" = "B17001C_057",
             "above_pov_F_65-74" = "B17001C_058",
             "above_pov_F_75+" = "B17001C_059"
)
pov_sex_age_C <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageC, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_C, "C:\\Desktop\\pov_sex_age_4(Native).xlsx")

# POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (ASIAN ALONE)
library(tidycensus)
library(tidyverse)
sexageD <- c("total_below_pov_Asian" = "B17001D_002", 
             "below_pov_M_Asian" ="B17001D_003",
             "below_pov_M_<5" = "B17001D_004",
             "below_pov_M_5" = "B17001D_005",
             "below_pov_M_6-11" = "B17001D_006",
             "below_pov_M_12-14" = "B17001D_007",
             "below_pov_M_15" = "B17001D_008",
             "below_pov_M_16-17" ="B17001D_009",
             "below_pov_M_18-24" = "B17001D_010",
             "below_pov_M_25-34" = "B17001D_011",
             "below_pov_M_35-44" = "B17001D_012",
             "below_pov_M_45-54" = "B17001D_013",
             "below_pov_M_55-64" = "B17001D_014",
             "below_pov_M_65-74" = "B17001D_015",
             "below_pov_M_75+" = "B17001D_016",
             "below_pov_F_Asian" ="B17001D_017",
             "below_pov_F_<5" = "B17001D_018",
             "below_pov_F_5" = "B17001D_019",
             "below_pov_F_6-11" = "B17001D_020",
             "below_pov_F_12-14" = "B17001D_021",
             "below_pov_F_15" = "B17001D_022",
             "below_pov_F_16-17" ="B17001D_023",
             "below_pov_F_18-24" = "B17001D_024",
             "below_pov_F_25-34" = "B17001D_025",
             "below_pov_F_35-44" = "B17001D_026",
             "below_pov_F_45-54" = "B17001D_027",
             "below_pov_F_55-64" = "B17001D_028",
             "below_pov_F_65-74" = "B17001D_029",
             "below_pov_F_75+" = "B17001D_030",
             "total_above_pov_Asian" = "B17001D_031", 
             "above_pov_M_Asian" ="B17001D_032",
             "above_pov_M_<5" = "B17001D_033",
             "above_pov_M_5" = "B17001D_034",
             "above_pov_M_6-11" = "B17001D_035",
             "above_pov_M_12-14" = "B17001D_036",
             "above_pov_M_15" = "B17001D_037",
             "above_pov_M_16-17" ="B17001D_038",
             "above_pov_M_18-24" = "B17001D_039",
             "above_pov_M_25-34" = "B17001D_040",
             "above_pov_M_35-44" = "B17001D_041",
             "above_pov_M_45-54" = "B17001D_042",
             "above_pov_M_55-64" = "B17001D_043",
             "above_pov_M_65-74" = "B17001D_044",
             "above_pov_M_75+" = "B17001D_045",
             "above_pov_F_Asian" ="B17001D_046",
             "above_pov_F_<5" = "B17001D_047",
             "above_pov_F_5" = "B17001D_048",
             "above_pov_F_6-11" = "B17001D_049",
             "above_pov_F_12-14" = "B17001D_050",
             "above_pov_F_15" = "B17001D_051",
             "above_pov_F_16-17" ="B17001D_052",
             "above_pov_F_18-24" = "B17001D_053",
             "above_pov_F_25-34" = "B17001D_054",
             "above_pov_F_35-44" = "B17001D_055",
             "above_pov_F_45-54" = "B17001D_056",
             "above_pov_F_55-64" = "B17001D_057",
             "above_pov_F_65-74" = "B17001D_058",
             "above_pov_F_75+" = "B17001D_059"
)
pov_sex_age_D <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageD, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_D, "C:\\Desktop\\pov_sex_age_5(Asian).xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE)
sexageE <- c("total_below_pov_Hawaii" = "B17001E_002", 
             "below_pov_M_Hawaii" ="B17001E_003",
             "below_pov_M_<5" = "B17001E_004",
             "below_pov_M_5" = "B17001E_005",
             "below_pov_M_6-11" = "B17001E_006",
             "below_pov_M_12-14" = "B17001E_007",
             "below_pov_M_15" = "B17001E_008",
             "below_pov_M_16-17" ="B17001E_009",
             "below_pov_M_18-24" = "B17001E_010",
             "below_pov_M_25-34" = "B17001E_011",
             "below_pov_M_35-44" = "B17001E_012",
             "below_pov_M_45-54" = "B17001E_013",
             "below_pov_M_55-64" = "B17001E_014",
             "below_pov_M_65-74" = "B17001E_015",
             "below_pov_M_75+" = "B17001E_016",
             "below_pov_F_Hawaii" ="B17001E_017",
             "below_pov_F_<5" = "B17001E_018",
             "below_pov_F_5" = "B17001E_019",
             "below_pov_F_6-11" = "B17001E_020",
             "below_pov_F_12-14" = "B17001E_021",
             "below_pov_F_15" = "B17001E_022",
             "below_pov_F_16-17" ="B17001E_023",
             "below_pov_F_18-24" = "B17001E_024",
             "below_pov_F_25-34" = "B17001E_025",
             "below_pov_F_35-44" = "B17001E_026",
             "below_pov_F_45-54" = "B17001E_027",
             "below_pov_F_55-64" = "B17001E_028",
             "below_pov_F_65-74" = "B17001E_029",
             "below_pov_F_75+" = "B17001E_030",
             "total_above_pov_Hawaii" = "B17001E_031", 
             "above_pov_M_Hawaii" ="B17001E_032",
             "above_pov_M_<5" = "B17001E_033",
             "above_pov_M_5" = "B17001E_034",
             "above_pov_M_6-11" = "B17001E_035",
             "above_pov_M_12-14" = "B17001E_036",
             "above_pov_M_15" = "B17001E_037",
             "above_pov_M_16-17" ="B17001E_038",
             "above_pov_M_18-24" = "B17001E_039",
             "above_pov_M_25-34" = "B17001E_040",
             "above_pov_M_35-44" = "B17001E_041",
             "above_pov_M_45-54" = "B17001E_042",
             "above_pov_M_55-64" = "B17001E_043",
             "above_pov_M_65-74" = "B17001E_044",
             "above_pov_M_75+" = "B17001E_045",
             "above_pov_F_Hawaii" ="B17001E_046",
             "above_pov_F_<5" = "B17001E_047",
             "above_pov_F_5" = "B17001E_048",
             "above_pov_F_6-11" = "B17001E_049",
             "above_pov_F_12-14" = "B17001E_050",
             "above_pov_F_15" = "B17001E_051",
             "above_pov_F_16-17" ="B17001E_052",
             "above_pov_F_18-24" = "B17001E_053",
             "above_pov_F_25-34" = "B17001E_054",
             "above_pov_F_35-44" = "B17001E_055",
             "above_pov_F_45-54" = "B17001E_056",
             "above_pov_F_55-64" = "B17001E_057",
             "above_pov_F_65-74" = "B17001E_058",
             "above_pov_F_75+" = "B17001E_059"
)
pov_sex_age_E <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageE, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_E, "C:\\Desktop\\pov_sex_age_6(Hawaii).xlsx")


#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (SOME OTHER RACE ALONE)
sexageF <- c("total_below_pov_other" = "B17001F_002", 
             "below_pov_M_other" ="B17001F_003",
             "below_pov_M_<5" = "B17001F_004",
             "below_pov_M_5" = "B17001F_005",
             "below_pov_M_6-11" = "B17001F_006",
             "below_pov_M_12-14" = "B17001F_007",
             "below_pov_M_15" = "B17001F_008",
             "below_pov_M_16-17" ="B17001F_009",
             "below_pov_M_18-24" = "B17001F_010",
             "below_pov_M_25-34" = "B17001F_011",
             "below_pov_M_35-44" = "B17001F_012",
             "below_pov_M_45-54" = "B17001F_013",
             "below_pov_M_55-64" = "B17001F_014",
             "below_pov_M_65-74" = "B17001F_015",
             "below_pov_M_75+" = "B17001F_016",
             "below_pov_F_other" ="B17001F_017",
             "below_pov_F_<5" = "B17001F_018",
             "below_pov_F_5" = "B17001F_019",
             "below_pov_F_6-11" = "B17001F_020",
             "below_pov_F_12-14" = "B17001F_021",
             "below_pov_F_15" = "B17001F_022",
             "below_pov_F_16-17" ="B17001F_023",
             "below_pov_F_18-24" = "B17001F_024",
             "below_pov_F_25-34" = "B17001F_025",
             "below_pov_F_35-44" = "B17001F_026",
             "below_pov_F_45-54" = "B17001F_027",
             "below_pov_F_55-64" = "B17001F_028",
             "below_pov_F_65-74" = "B17001F_029",
             "below_pov_F_75+" = "B17001F_030",
             "total_above_pov_other" = "B17001F_031", 
             "above_pov_M_other" ="B17001F_032",
             "above_pov_M_<5" = "B17001F_033",
             "above_pov_M_5" = "B17001F_034",
             "above_pov_M_6-11" = "B17001F_035",
             "above_pov_M_12-14" = "B17001F_036",
             "above_pov_M_15" = "B17001F_037",
             "above_pov_M_16-17" ="B17001F_038",
             "above_pov_M_18-24" = "B17001F_039",
             "above_pov_M_25-34" = "B17001F_040",
             "above_pov_M_35-44" = "B17001F_041",
             "above_pov_M_45-54" = "B17001F_042",
             "above_pov_M_55-64" = "B17001F_043",
             "above_pov_M_65-74" = "B17001F_044",
             "above_pov_M_75+" = "B17001F_045",
             "above_pov_F_other" ="B17001F_046",
             "above_pov_F_<5" = "B17001F_047",
             "above_pov_F_5" = "B17001F_048",
             "above_pov_F_6-11" = "B17001F_049",
             "above_pov_F_12-14" = "B17001F_050",
             "above_pov_F_15" = "B17001F_051",
             "above_pov_F_16-17" ="B17001F_052",
             "above_pov_F_18-24" = "B17001F_053",
             "above_pov_F_25-34" = "B17001F_054",
             "above_pov_F_35-44" = "B17001F_055",
             "above_pov_F_45-54" = "B17001F_056",
             "above_pov_F_55-64" = "B17001F_057",
             "above_pov_F_65-74" = "B17001F_058",
             "above_pov_F_75+" = "B17001F_059"
)
pov_sex_age_F <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageF, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_F, "C:\\Desktop\\pov_sex_age_7(Other Race).xlsx")


#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (TWO OR MORE RACES)
sexageG <- c("total_below_pov_2+RACE" = "B17001G_002", 
             "below_pov_M_2+RACE" ="B17001G_003",
             "below_pov_M_<5" = "B17001G_004",
             "below_pov_M_5" = "B17001G_005",
             "below_pov_M_6-11" = "B17001G_006",
             "below_pov_M_12-14" = "B17001G_007",
             "below_pov_M_15" = "B17001G_008",
             "below_pov_M_16-17" ="B17001G_009",
             "below_pov_M_18-24" = "B17001G_010",
             "below_pov_M_25-34" = "B17001G_011",
             "below_pov_M_35-44" = "B17001G_012",
             "below_pov_M_45-54" = "B17001G_013",
             "below_pov_M_55-64" = "B17001G_014",
             "below_pov_M_65-74" = "B17001G_015",
             "below_pov_M_75+" = "B17001G_016",
             "below_pov_F_2+RACE" ="B17001G_017",
             "below_pov_F_<5" = "B17001G_018",
             "below_pov_F_5" = "B17001G_019",
             "below_pov_F_6-11" = "B17001G_020",
             "below_pov_F_12-14" = "B17001G_021",
             "below_pov_F_15" = "B17001G_022",
             "below_pov_F_16-17" ="B17001G_023",
             "below_pov_F_18-24" = "B17001G_024",
             "below_pov_F_25-34" = "B17001G_025",
             "below_pov_F_35-44" = "B17001G_026",
             "below_pov_F_45-54" = "B17001G_027",
             "below_pov_F_55-64" = "B17001G_028",
             "below_pov_F_65-74" = "B17001G_029",
             "below_pov_F_75+" = "B17001G_030",
             "total_above_pov_2+RACE" = "B17001G_031", 
             "above_pov_M_2+RACE" ="B17001G_032",
             "above_pov_M_<5" = "B17001G_033",
             "above_pov_M_5" = "B17001G_034",
             "above_pov_M_6-11" = "B17001G_035",
             "above_pov_M_12-14" = "B17001G_036",
             "above_pov_M_15" = "B17001G_037",
             "above_pov_M_16-17" ="B17001G_038",
             "above_pov_M_18-24" = "B17001G_039",
             "above_pov_M_25-34" = "B17001G_040",
             "above_pov_M_35-44" = "B17001G_041",
             "above_pov_M_45-54" = "B17001G_042",
             "above_pov_M_55-64" = "B17001G_043",
             "above_pov_M_65-74" = "B17001G_044",
             "above_pov_M_75+" = "B17001G_045",
             "above_pov_F_2+RACE" ="B17001G_046",
             "above_pov_F_<5" = "B17001G_047",
             "above_pov_F_5" = "B17001G_048",
             "above_pov_F_6-11" = "B17001G_049",
             "above_pov_F_12-14" = "B17001G_050",
             "above_pov_F_15" = "B17001G_051",
             "above_pov_F_16-17" ="B17001G_052",
             "above_pov_F_18-24" = "B17001G_053",
             "above_pov_F_25-34" = "B17001G_054",
             "above_pov_F_35-44" = "B17001G_055",
             "above_pov_F_45-54" = "B17001G_056",
             "above_pov_F_55-64" = "B17001G_057",
             "above_pov_F_65-74" = "B17001G_058",
             "above_pov_F_75+" = "B17001G_059"
)
pov_sex_age_G <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageG, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_G, "C:\\Desktop\\pov_sex_age_8(2+RACE).xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (WHITE ALONE, NOT HISPANIC OR LATINO)
sexageH <- c("total_below_pov_2+RACE" = "B17001H_002", 
             "below_pov_M_WhiteNoHis" ="B17001H_003",
             "below_pov_M_<5" = "B17001H_004",
             "below_pov_M_5" = "B17001H_005",
             "below_pov_M_6-11" = "B17001H_006",
             "below_pov_M_12-14" = "B17001H_007",
             "below_pov_M_15" = "B17001H_008",
             "below_pov_M_16-17" ="B17001H_009",
             "below_pov_M_18-24" = "B17001H_010",
             "below_pov_M_25-34" = "B17001H_011",
             "below_pov_M_35-44" = "B17001H_012",
             "below_pov_M_45-54" = "B17001H_013",
             "below_pov_M_55-64" = "B17001H_014",
             "below_pov_M_65-74" = "B17001H_015",
             "below_pov_M_75+" = "B17001H_016",
             "below_pov_F_WhiteNoHis" ="B17001H_017",
             "below_pov_F_<5" = "B17001H_018",
             "below_pov_F_5" = "B17001H_019",
             "below_pov_F_6-11" = "B17001H_020",
             "below_pov_F_12-14" = "B17001H_021",
             "below_pov_F_15" = "B17001H_022",
             "below_pov_F_16-17" ="B17001H_023",
             "below_pov_F_18-24" = "B17001H_024",
             "below_pov_F_25-34" = "B17001H_025",
             "below_pov_F_35-44" = "B17001H_026",
             "below_pov_F_45-54" = "B17001H_027",
             "below_pov_F_55-64" = "B17001H_028",
             "below_pov_F_65-74" = "B17001H_029",
             "below_pov_F_75+" = "B17001H_030",
             "total_above_pov_WhiteNoHis" = "B17001H_031", 
             "above_pov_M_WhiteNoHis" ="B17001H_032",
             "above_pov_M_<5" = "B17001H_033",
             "above_pov_M_5" = "B17001H_034",
             "above_pov_M_6-11" = "B17001H_035",
             "above_pov_M_12-14" = "B17001H_036",
             "above_pov_M_15" = "B17001H_037",
             "above_pov_M_16-17" ="B17001H_038",
             "above_pov_M_18-24" = "B17001H_039",
             "above_pov_M_25-34" = "B17001H_040",
             "above_pov_M_35-44" = "B17001H_041",
             "above_pov_M_45-54" = "B17001H_042",
             "above_pov_M_55-64" = "B17001H_043",
             "above_pov_M_65-74" = "B17001H_044",
             "above_pov_M_75+" = "B17001H_045",
             "above_pov_F_WhiteNoHis" ="B17001H_046",
             "above_pov_F_<5" = "B17001H_047",
             "above_pov_F_5" = "B17001H_048",
             "above_pov_F_6-11" = "B17001H_049",
             "above_pov_F_12-14" = "B17001H_050",
             "above_pov_F_15" = "B17001H_051",
             "above_pov_F_16-17" ="B17001H_052",
             "above_pov_F_18-24" = "B17001H_053",
             "above_pov_F_25-34" = "B17001H_054",
             "above_pov_F_35-44" = "B17001H_055",
             "above_pov_F_45-54" = "B17001H_056",
             "above_pov_F_55-64" = "B17001H_057",
             "above_pov_F_65-74" = "B17001H_058",
             "above_pov_F_75+" = "B17001H_059"
)
pov_sex_age_H <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageH, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_H, "C:\\Desktop\\pov_sex_age_9.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS BY SEX BY AGE (HISPANIC OR LATINO)
sexageI <- c("total_below_pov_HIS" = "B17001I_002", 
             "below_pov_M_HIS" ="B17001I_003",
             "below_pov_M_<5" = "B17001I_004",
             "below_pov_M_5" = "B17001I_005",
             "below_pov_M_6-11" = "B17001I_006",
             "below_pov_M_12-14" = "B17001I_007",
             "below_pov_M_15" = "B17001I_008",
             "below_pov_M_16-17" ="B17001I_009",
             "below_pov_M_18-24" = "B17001I_010",
             "below_pov_M_25-34" = "B17001I_011",
             "below_pov_M_35-44" = "B17001I_012",
             "below_pov_M_45-54" = "B17001I_013",
             "below_pov_M_55-64" = "B17001I_014",
             "below_pov_M_65-74" = "B17001I_015",
             "below_pov_M_75+" = "B17001I_016",
             "below_pov_F_HIS" ="B17001I_017",
             "below_pov_F_<5" = "B17001I_018",
             "below_pov_F_5" = "B17001I_019",
             "below_pov_F_6-11" = "B17001I_020",
             "below_pov_F_12-14" = "B17001I_021",
             "below_pov_F_15" = "B17001I_022",
             "below_pov_F_16-17" ="B17001I_023",
             "below_pov_F_18-24" = "B17001I_024",
             "below_pov_F_25-34" = "B17001I_025",
             "below_pov_F_35-44" = "B17001I_026",
             "below_pov_F_45-54" = "B17001I_027",
             "below_pov_F_55-64" = "B17001I_028",
             "below_pov_F_65-74" = "B17001I_029",
             "below_pov_F_75+" = "B17001I_030",
             "total_above_pov_HIS" = "B17001I_031", 
             "above_pov_M_HIS" ="B17001I_032",
             "above_pov_M_<5" = "B17001I_033",
             "above_pov_M_5" = "B17001I_034",
             "above_pov_M_6-11" = "B17001I_035",
             "above_pov_M_12-14" = "B17001I_036",
             "above_pov_M_15" = "B17001I_037",
             "above_pov_M_16-17" ="B17001I_038",
             "above_pov_M_18-24" = "B17001I_039",
             "above_pov_M_25-34" = "B17001I_040",
             "above_pov_M_35-44" = "B17001I_041",
             "above_pov_M_45-54" = "B17001I_042",
             "above_pov_M_55-64" = "B17001I_043",
             "above_pov_M_65-74" = "B17001I_044",
             "above_pov_M_75+" = "B17001I_045",
             "above_pov_F_HIS" ="B17001I_046",
             "above_pov_F_<5" = "B17001I_047",
             "above_pov_F_5" = "B17001I_048",
             "above_pov_F_6-11" = "B17001I_049",
             "above_pov_F_12-14" = "B17001I_050",
             "above_pov_F_15" = "B17001I_051",
             "above_pov_F_16-17" ="B17001I_052",
             "above_pov_F_18-24" = "B17001I_053",
             "above_pov_F_25-34" = "B17001I_054",
             "above_pov_F_35-44" = "B17001I_055",
             "above_pov_F_45-54" = "B17001I_056",
             "above_pov_F_55-64" = "B17001I_057",
             "above_pov_F_65-74" = "B17001I_058",
             "above_pov_F_75+" = "B17001I_059"
)
pov_sex_age_I <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = sexageI, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_sex_age_I, "C:\\Desktop\\pov_sex_age_10(HIS).xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF INDIVIDUALS BY SEX BY EDUCATIONAL ATTAINMENT
eduattt <- c("total_below_pov" = "B17003_002", 
             "below_pov_M" ="B17003_003",
             "below_pov_M_HS-" = "B17003_004",
             "below_pov_M_HS" = "B17003_005",
             "below_pov_M_College" = "B17003_006",
             "below_pov_M_BA=+" = "B17003_007",
             "below_pov_F" = "B17003_008",
             "below_pov_F_HS-" = "B17003_009",
             "below_pov_F_HS" = "B17003_010",
             "below_pov_F_College" = "B17003_011",
             "below_pov_F_BA=+" = "B17003_012",
             "above_pov" ="B17003_013",
             "above_pov_M" = "B17003_014",
             "above_pov_M_HS+" = "B17003_015",
             "above_pov_M_HS" = "B17003_016",
             "above_pov_M_College" = "B17003_017",
             "above_pov_M_BA=+" = "B17003_018",
             "above_pov_F" ="B17003_019",
             "above_pov_F_HS+" = "B17003_020",
             "above_pov_F_HS" = "B17003_021",
             "above_pov_F_College" = "B17003_022",
             "above_pov_F_BA=+" = "B17003_023"
)
pov_edu <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = eduattt, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_edu, "C:\\Desktop\\pov_edu.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF INDIVIDUALS BY SEX BY WORK EXPERIENCE
workexp <- c("total_below_pov" = "B17004_002", 
             "below_pov_M" ="B17004_003",
             "below_pov_M_FT" = "B17004_004",
             "below_pov_M_PT" = "B17004_005",
             "below_pov_M_NO" = "B17004_006",
             "below_pov_F" = "B17004_007",
             "below_pov_F_FT" = "B17004_008",
             "below_pov_F_PT" = "B17004_009",
             "below_pov_F_NO" = "B17004_010",
             "above_pov" ="B17004_011",
             "above_pov_M" = "B17004_012",
             "above_pov_M_FT" = "B17004_013",
             "above_pov_M_PT" = "B17004_014",
             "above_pov_M_NO" = "B17004_015",
             "above_pov_F" ="B17004_016",
             "above_pov_F_FT" = "B17004_017",
             "above_pov_F_PT" = "B17004_018",
             "above_pov_F_NO" = "B17004_019"
)
pov_work <- get_acs(geography ="tract", 
                    year = 2020, 
                    state = 18,
                    county = 141,
                    variables = workexp, 
                    survey = "acs5",
                    output = "wide", 
                    geometry = F
)
library("writexl")
write_xlsx(pov_work, "C:\\Desktop\\pov_work.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF INDIVIDUALS BY SEX BY EMPLOYMENT STATUS
EMPSTAT <- c("total_below_pov" = "B17005_002", 
             "below_pov_M" ="B17005_003",
             "below_pov_M_LF" = "B17005_004",
             "below_pov_M_LF_EM" = "B17005_005",
             "below_pov_M_LF_UNEM" = "B17005_006",
             "below_pov_M_NOLF" = "B17005_007",
             "below_pov_F" ="B17005_008",
             "below_pov_F_LF" = "B17005_009",
             "below_pov_F_LF_EM" = "B17005_010",
             "below_pov_F_LF_UNEM" = "B17005_011",
             "below_pov_F_NOLF" = "B17005_012",
             "above_pov" ="B17005_013",
             "above_pov_M" = "B17005_014",
             "above_pov_M_LF" = "B17005_015",
             "above_pov_M_LF_EM" = "B17005_016",
             "above_pov_M_LF_UNEM" = "B17005_017",
             "above_pov_M_NOLF" = "B17005_018",
             "above_pov_F" ="B17005_019",
             "above_pov_F_LF" = "B17005_020",
             "above_pov_F_LF_EM" = "B17005_021",
             "above_pov_F_LF_UNEM" = "B17005_022",
             "above_pov_F_NOLF" = "B17005_023"
)
pov_emps <- get_acs(geography ="tract", 
                    year = 2020, 
                    state = 18,
                    county = 141,
                    variables = EMPSTAT, 
                    survey = "acs5",
                    output = "wide", 
                    geometry = F
)
library("writexl")
write_xlsx(pov_emps, "C:\\Desktop\\pov_EmploymentStatus.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF RELATED CHILDREN UNDER 18 YEARS BY FAMILY TYPE BY AGE OF RELATED CHILDREN UNDER 18 YEARS
famtype <- c("total_below_pov" = "B17006_002", 
             "below_pov_MC" ="B17006_003",
             "below_pov_MC_5-" = "B17006_004",
             "below_pov_MC_5" = "B17006_005",
             "below_pov_MC_6-17" = "B17006_006",
             "below_pov_OTHER" = "B17006_007",
             "below_pov_OTHER_MnoS" ="B17006_008",
             "below_pov_OTHER_MnoS_5-" = "B17006_009",
             "below_pov_OTHER_MnoS_5" = "B17006_010",
             "below_pov_OTHER_MnoS_6-17" = "B17006_011",
             "below_pov_OTHER_FnoS" ="B17006_012",
             "below_pov_OTHER_FnoS_5-" = "B17006_013",
             "below_pov_OTHER_FnoS_5" = "B17006_014",
             "below_pov_OTHER_FnoS_6-17" = "B17006_015",
             "above_pov" ="B17006_016",
             "above_pov_MC" ="B17006_017",
             "above_pov_MC_5-" = "B17006_018",
             "above_pov_MC_5" = "B17006_019",
             "above_pov_MC_6-17" = "B17006_020",
             "above_pov_OTHER" = "B17006_021",
             "above_pov_OTHER_MnoS" ="B17006_022",
             "above_pov_OTHER_MnoS_5-" = "B17006_023",
             "above_pov_OTHER_MnoS_5" = "B17006_024",
             "above_pov_OTHER_MnoS_6-17" = "B17006_025",
             "above_pov_OTHER_FnoS" ="B17006_026",
             "above_pov_OTHER_FnoS_5-" = "B17006_027",
             "above_pov_OTHER_FnoS_5" = "B17006_028",
             "above_pov_OTHER_FnoS_6-17" = "B17006_029"
)
pov_famtype <- get_acs(geography ="tract", 
                    year = 2020, 
                    state = 18,
                    county = 141,
                    variables = famtype, 
                    survey = "acs5",
                    output = "wide", 
                    geometry = F
)
library("writexl")
write_xlsx(pov_famtype, "C:\\Desktop\\pov_FamilyType.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF UNRELATED INDIVIDUALS 15 YEARS AND OVER BY SEX BY AGE
unrelin <- c("total_below_pov" = "B17007_002", 
             "below_pov_M" ="B17007_003",
             "below_pov_M_15" = "B17007_004",
             "below_pov_M_16-17" = "B17007_005",
             "below_pov_M_18-24" = "B17007_006",
             "below_pov_M_25-34" = "B17007_007",
             "below_pov_M_35-44" = "B17007_008",
             "below_pov_M_45-54" = "B17007_009",
             "below_pov_M_55-64" = "B17007_010",
             "below_pov_M_65-74" = "B17007_011",
             "below_pov_M_75+" = "B17007_012",
             "below_pov_F" ="B17007_013",
             "below_pov_F_15" = "B17007_014",
             "below_pov_F_16-17" ="B17007_015",
             "below_pov_F_18-24" = "B17007_016",
             "below_pov_F_25-34" = "B17007_017",
             "below_pov_F_35-44" = "B17007_018",
             "below_pov_F_45-54" = "B17007_019",
             "below_pov_F_55-64" = "B17007_020",
             "below_pov_F_65-74" = "B17007_021",
             "below_pov_F_75+" = "B17007_022",
             "total_above_pov" = "B17007_023", 
             "above_pov_M" ="B17007_024",
             "above_pov_M_15" = "B17007_025",
             "above_pov_M_16-17" ="B17007_026",
             "above_pov_M_18-24" = "B17007_027",
             "above_pov_M_25-34" = "B17007_028",
             "above_pov_M_35-44" = "B17007_029",
             "above_pov_M_45-54" = "B17007_030",
             "above_pov_M_55-64" = "B17007_031",
             "above_pov_M_65-74" = "B17007_032",
             "above_pov_M_75+" = "B17007_033",
             "above_pov_F" ="B17007_034",
             "above_pov_F_15" = "B17007_035",
             "above_pov_F_16-17" ="B17007_036",
             "above_pov_F_18-24" = "B17007_037",
             "above_pov_F_25-34" = "B17007_038",
             "above_pov_F_35-44" = "B17007_039",
             "above_pov_F_45-54" = "B17007_040",
             "above_pov_F_55-64" = "B17007_041",
             "above_pov_F_65-74" = "B17007_042",
             "above_pov_F_75+" = "B17007_043"
)
pov_unrelin <- get_acs(geography ="tract", 
                         year = 2020, 
                         state = 18,
                         county = 141,
                         variables = unrelin, 
                         survey = "acs5",
                         output = "wide", 
                         geometry = F
)
library("writexl")
write_xlsx(pov_unrelin, "C:\\Desktop\\pov_UnrelatedIndi(15+).xlsx")

#AGGREGATE INCOME DEFICIT (DOLLARS) IN THE PAST 12 MONTHS OF UNRELATED INDIVIDUALS BY SEX
AGGunrelin <- c("Agg_income_deficit_unre($)" = "B17008_001", 
                "Agg_income_deficit_unre_M($)" = "B17008_002", 
                "Agg_income_deficit_unre_F($)" = "B17008_003"
)
AGG_unrelin <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = AGGunrelin, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(AGG_unrelin, "C:\\Desktop\\AggIncomeDeficit_unre.xlsx")

#POVERTY STATUS BY WORK EXPERIENCE OF UNRELATED INDIVIDUALS BY HOUSEHOLDER STATUS
unrehhs <- c("total_pov-" = "B17009_002", 
             "pov-_FT" ="B17009_003",
             "pov-_FT_nonFam" = "B17009_004",
             "pov-_FT_other" = "B17009_005",
             "pov-_FT-" = "B17009_006",
             "pov-_FT-_nonFam" = "B17009_007",
             "pov-_FT-_other" = "B17009_008",
             "pov-_noWork" = "B17009_009",
             "pov-_noWork_nonFam" = "B17009_010",
             "pov-_noWork_other" = "B17009_011",
             "total_pov+" = "B17009_012", 
             "pov+_FT" ="B17009_013",
             "pov+_FT_nonFam" = "B17009_014",
             "pov+_FT_other" = "B17009_015",
             "pov+_FT-" = "B17009_016",
             "pov+_FT-_nonFam" = "B17009_017",
             "pov+_FT-_other" = "B17009_018",
             "pov+_noWork" = "B17009_019",
             "pov+_noWork_nonFam" = "B17009_020",
             "pov+_noWork_other" = "B17009_021"
)
pov_unrel_h <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = unrehhs, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_unrel_h, "C:\\Desktop\\pov_UnrelatedIndi_HHS.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN
familie <- c("total_below_pov" = "B17010_002", 
             "below_pov_MC" ="B17010_003",
             "below_pov_MC_18-" = "B17010_004",
             "below_pov_MC_5-" = "B17010_005",
             "below_pov_MC_5-/5-17" = "B17010_006",
             "below_pov_MC_5-17" = "B17010_007",
             "below_pov_MC_noCh" = "B17010_008",
             "below_pov_OTHER" = "B17010_009",
             
             "below_pov_OTHER_MnoS" ="B17010_010",
             "below_pov_OTHER_MnoS_18-" ="B17010_011",
             "below_pov_OTHER_MnoS_5-" = "B17010_012",
             "below_pov_OTHER_MnoS_5-/5-17" = "B17010_013",
             "below_pov_OTHER_MnoS_5-17" = "B17010_014",
             "below_pov_OTHER_MnoS_noCh" = "B17010_015",
             
             "below_pov_OTHER_FnoS" ="B17010_016",
             "below_pov_OTHER_FnoS_18-" ="B17010_017",
             "below_pov_OTHER_FnoS_5-" = "B17010_018",
             "below_pov_OTHER_FnoS_5-/5-17" = "B17010_019",
             "below_pov_OTHER_FnoS_5-17" = "B17010_020",
             "below_pov_OTHER_FnoS_noCh" = "B17010_021",
             
             "total_above_pov" = "B17010_022", 
             "above_pov_MC" ="B17010_023",
             "above_pov_MC_18-" = "B17010_024",
             "above_pov_MC_5-" = "B17010_025",
             "above_pov_MC_5-/5-17" = "B17010_026",
             "above_pov_MC_5-17" = "B17010_027",
             "above_pov_MC_noCh" = "B17010_028",
             "above_pov_OTHER" = "B17010_029",
             
             "above_pov_OTHER_MnoS" ="B17010_030",
             "above_pov_OTHER_MnoS_18-" ="B17010_031",
             "above_pov_OTHER_MnoS_5-" = "B17010_032",
             "above_pov_OTHER_MnoS_5-/5-17" = "B17010_033",
             "above_pov_OTHER_MnoS_5-17" = "B17010_034",
             "above_pov_OTHER_MnoS_noCh" = "B17010_035",
             
             "above_pov_OTHER_FnoS" ="B17010_036",
             "above_pov_OTHER_FnoS_18-" ="B17010_037",
             "above_pov_OTHER_FnoS_5-" = "B17010_038",
             "above_pov_OTHER_FnoS_5-/5-17" = "B17010_039",
             "above_pov_OTHER_FnoS_5-17" = "B17010_040",
             "above_pov_OTHER_FnoS_noCh" = "B17010_041"
)
pov_familie <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = familie, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_familie, "C:\\Desktop\\pov_Fam_FamilyType.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (WHITE ALONE HOUSEHOLDER)
familiW <- c("total_below_pov_White" = "B17010A_002", 
             "below_pov_MC" ="B17010A_003",
             "below_pov_MC_18-" = "B17010A_004",
             "below_pov_MC_5-" = "B17010A_005",
             "below_pov_MC_5-/5-17" = "B17010A_006",
             "below_pov_MC_5-17" = "B17010A_007",
             "below_pov_MC_noCh" = "B17010A_008",
             "below_pov_OTHER" = "B17010A_009",
             
             "below_pov_OTHER_MnoS" ="B17010A_010",
             "below_pov_OTHER_MnoS_18-" ="B17010A_011",
             "below_pov_OTHER_MnoS_5-" = "B17010A_012",
             "below_pov_OTHER_MnoS_5-/5-17" = "B17010A_013",
             "below_pov_OTHER_MnoS_5-17" = "B17010A_014",
             "below_pov_OTHER_MnoS_noCh" = "B17010A_015",
             
             "below_pov_OTHER_FnoS" ="B17010A_016",
             "below_pov_OTHER_FnoS_18-" ="B17010A_017",
             "below_pov_OTHER_FnoS_5-" = "B17010A_018",
             "below_pov_OTHER_FnoS_5-/5-17" = "B17010A_019",
             "below_pov_OTHER_FnoS_5-17" = "B17010A_020",
             "below_pov_OTHER_FnoS_noCh" = "B17010A_021",
             
             "total_above_pov_White" = "B17010A_022", 
             "above_pov_MC" ="B17010A_023",
             "above_pov_MC_18-" = "B17010A_024",
             "above_pov_MC_5-" = "B17010A_025",
             "above_pov_MC_5-/5-17" = "B17010A_026",
             "above_pov_MC_5-17" = "B17010A_027",
             "above_pov_MC_noCh" = "B17010A_028",
             "above_pov_OTHER" = "B17010A_029",
             
             "above_pov_OTHER_MnoS" ="B17010A_030",
             "above_pov_OTHER_MnoS_18-" ="B17010A_031",
             "above_pov_OTHER_MnoS_5-" = "B17010A_032",
             "above_pov_OTHER_MnoS_5-/5-17" = "B17010A_033",
             "above_pov_OTHER_MnoS_5-17" = "B17010A_034",
             "above_pov_OTHER_MnoS_noCh" = "B17010A_035",
             
             "above_pov_OTHER_FnoS" ="B17010A_036",
             "above_pov_OTHER_FnoS_18-" ="B17010A_037",
             "above_pov_OTHER_FnoS_5-" = "B17010A_038",
             "above_pov_OTHER_FnoS_5-/5-17" = "B17010A_039",
             "above_pov_OTHER_FnoS_5-17" = "B17010A_040",
             "above_pov_OTHER_FnoS_noCh" = "B17010A_041"
)
pov_familiW <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = familiW, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_familiW, "C:\\Desktop\\pov_Fam_FamilyType_White.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (BLACK OR AFRICAN AMERICAN ALONE HOUSEHOLDER)
familiB <- c("total_below_pov_Black" = "B17010B_002", 
             "below_pov_MC" ="B17010B_003",
             "below_pov_MC_18-" = "B17010B_004",
             "below_pov_MC_5-" = "B17010B_005",
             "below_pov_MC_5-/5-17" = "B17010B_006",
             "below_pov_MC_5-17" = "B17010B_007",
             "below_pov_MC_noCh" = "B17010B_008",
             "below_pov_OTHER" = "B17010B_009",
             
             "below_pov_OTHER_MnoS" ="B17010B_010",
             "below_pov_OTHER_MnoS_18-" ="B17010B_011",
             "below_pov_OTHER_MnoS_5-" = "B17010B_012",
             "below_pov_OTHER_MnoS_5-/5-17" = "B17010B_013",
             "below_pov_OTHER_MnoS_5-17" = "B17010B_014",
             "below_pov_OTHER_MnoS_noCh" = "B17010B_015",
             
             "below_pov_OTHER_FnoS" ="B17010B_016",
             "below_pov_OTHER_FnoS_18-" ="B17010B_017",
             "below_pov_OTHER_FnoS_5-" = "B17010B_018",
             "below_pov_OTHER_FnoS_5-/5-17" = "B17010B_019",
             "below_pov_OTHER_FnoS_5-17" = "B17010B_020",
             "below_pov_OTHER_FnoS_noCh" = "B17010B_021",
             
             "total_above_pov_Black" = "B17010B_022", 
             "above_pov_MC" ="B17010B_023",
             "above_pov_MC_18-" = "B17010B_024",
             "above_pov_MC_5-" = "B17010B_025",
             "above_pov_MC_5-/5-17" = "B17010B_026",
             "above_pov_MC_5-17" = "B17010B_027",
             "above_pov_MC_noCh" = "B17010B_028",
             "above_pov_OTHER" = "B17010B_029",
             
             "above_pov_OTHER_MnoS" ="B17010B_030",
             "above_pov_OTHER_MnoS_18-" ="B17010B_031",
             "above_pov_OTHER_MnoS_5-" = "B17010B_032",
             "above_pov_OTHER_MnoS_5-/5-17" = "B17010B_033",
             "above_pov_OTHER_MnoS_5-17" = "B17010B_034",
             "above_pov_OTHER_MnoS_noCh" = "B17010B_035",
             
             "above_pov_OTHER_FnoS" ="B17010B_036",
             "above_pov_OTHER_FnoS_18-" ="B17010B_037",
             "above_pov_OTHER_FnoS_5-" = "B17010B_038",
             "above_pov_OTHER_FnoS_5-/5-17" = "B17010B_039",
             "above_pov_OTHER_FnoS_5-17" = "B17010B_040",
             "above_pov_OTHER_FnoS_noCh" = "B17010B_041"
)
pov_familiB <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = familiB, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_familiB, "C:\\Desktop\\pov_Fam_FamilyType_Black.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (AMERICAN INDIAN AND ALASKA NATIVE ALONE)
familiC <- c("total_below_pov_Native" = "B17010C_002", 
             "below_pov_MC" ="B17010C_003",
             "below_pov_MC_18-" = "B17010C_004",
             "below_pov_MC_5-" = "B17010C_005",
             "below_pov_MC_5-/5-17" = "B17010C_006",
             "below_pov_MC_5-17" = "B17010C_007",
             "below_pov_MC_noCh" = "B17010C_008",
             "below_pov_OTHER" = "B17010C_009",
             
             "below_pov_OTHER_MnoS" ="B17010C_010",
             "below_pov_OTHER_MnoS_18-" ="B17010C_011",
             "below_pov_OTHER_MnoS_5-" = "B17010C_012",
             "below_pov_OTHER_MnoS_5-/5-17" = "B17010C_013",
             "below_pov_OTHER_MnoS_5-17" = "B17010C_014",
             "below_pov_OTHER_MnoS_noCh" = "B17010C_015",
             
             "below_pov_OTHER_FnoS" ="B17010C_016",
             "below_pov_OTHER_FnoS_18-" ="B17010C_017",
             "below_pov_OTHER_FnoS_5-" = "B17010C_018",
             "below_pov_OTHER_FnoS_5-/5-17" = "B17010C_019",
             "below_pov_OTHER_FnoS_5-17" = "B17010C_020",
             "below_pov_OTHER_FnoS_noCh" = "B17010C_021",
             
             "total_above_pov_Native" = "B17010C_022", 
             "above_pov_MC" ="B17010C_023",
             "above_pov_MC_18-" = "B17010C_024",
             "above_pov_MC_5-" = "B17010C_025",
             "above_pov_MC_5-/5-17" = "B17010C_026",
             "above_pov_MC_5-17" = "B17010C_027",
             "above_pov_MC_noCh" = "B17010C_028",
             "above_pov_OTHER" = "B17010C_029",
             
             "above_pov_OTHER_MnoS" ="B17010C_030",
             "above_pov_OTHER_MnoS_18-" ="B17010C_031",
             "above_pov_OTHER_MnoS_5-" = "B17010C_032",
             "above_pov_OTHER_MnoS_5-/5-17" = "B17010C_033",
             "above_pov_OTHER_MnoS_5-17" = "B17010C_034",
             "above_pov_OTHER_MnoS_noCh" = "B17010C_035",
             
             "above_pov_OTHER_FnoS" ="B17010C_036",
             "above_pov_OTHER_FnoS_18-" ="B17010C_037",
             "above_pov_OTHER_FnoS_5-" = "B17010C_038",
             "above_pov_OTHER_FnoS_5-/5-17" = "B17010C_039",
             "above_pov_OTHER_FnoS_5-17" = "B17010C_040",
             "above_pov_OTHER_FnoS_noCh" = "B17010C_041"
)
pov_familiC <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = familiC, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_familiC, "C:\\Desktop\\pov_Fam_FamilyType_Native.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (ASIAN ALONE HOUSEHOLDER)
familiD <- c("total_below_pov_Asian" = "B17010D_002", 
             "below_pov_MC" ="B17010D_003",
             "below_pov_MC_18-" = "B17010D_004",
             "below_pov_MC_5-" = "B17010D_005",
             "below_pov_MC_5-/5-17" = "B17010D_006",
             "below_pov_MC_5-17" = "B17010D_007",
             "below_pov_MC_noCh" = "B17010D_008",
             "below_pov_OTHER" = "B17010D_009",
             
             "below_pov_OTHER_MnoS" ="B17010D_010",
             "below_pov_OTHER_MnoS_18-" ="B17010D_011",
             "below_pov_OTHER_MnoS_5-" = "B17010D_012",
             "below_pov_OTHER_MnoS_5-/5-17" = "B17010D_013",
             "below_pov_OTHER_MnoS_5-17" = "B17010D_014",
             "below_pov_OTHER_MnoS_noCh" = "B17010D_015",
             
             "below_pov_OTHER_FnoS" ="B17010D_016",
             "below_pov_OTHER_FnoS_18-" ="B17010D_017",
             "below_pov_OTHER_FnoS_5-" = "B17010D_018",
             "below_pov_OTHER_FnoS_5-/5-17" = "B17010D_019",
             "below_pov_OTHER_FnoS_5-17" = "B17010D_020",
             "below_pov_OTHER_FnoS_noCh" = "B17010D_021",
             
             "total_above_pov_Asian" = "B17010D_022", 
             "above_pov_MC" ="B17010D_023",
             "above_pov_MC_18-" = "B17010D_024",
             "above_pov_MC_5-" = "B17010D_025",
             "above_pov_MC_5-/5-17" = "B17010D_026",
             "above_pov_MC_5-17" = "B17010D_027",
             "above_pov_MC_noCh" = "B17010D_028",
             "above_pov_OTHER" = "B17010D_029",
             
             "above_pov_OTHER_MnoS" ="B17010D_030",
             "above_pov_OTHER_MnoS_18-" ="B17010D_031",
             "above_pov_OTHER_MnoS_5-" = "B17010D_032",
             "above_pov_OTHER_MnoS_5-/5-17" = "B17010D_033",
             "above_pov_OTHER_MnoS_5-17" = "B17010D_034",
             "above_pov_OTHER_MnoS_noCh" = "B17010D_035",
             
             "above_pov_OTHER_FnoS" ="B17010D_036",
             "above_pov_OTHER_FnoS_18-" ="B17010D_037",
             "above_pov_OTHER_FnoS_5-" = "B17010D_038",
             "above_pov_OTHER_FnoS_5-/5-17" = "B17010D_039",
             "above_pov_OTHER_FnoS_5-17" = "B17010D_040",
             "above_pov_OTHER_FnoS_noCh" = "B17010D_041"
)
pov_familiD <- get_acs(geography ="tract", 
                       year = 2020, 
                       state = 18,
                       county = 141,
                       variables = familiD, 
                       survey = "acs5",
                       output = "wide", 
                       geometry = F
)
library("writexl")
write_xlsx(pov_familiD, "C:\\Desktop\\pov_Fam_FamilyType_Asian.xlsx")

#POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES BY FAMILY TYPE BY PRESENCE OF RELATED CHILDREN UNDER 18 YEARS BY AGE OF RELATED CHILDREN (NATIVE HAWAIIAN AND OTHER PACIFIC ISLANDER ALONE HOUSEHOLDER)


